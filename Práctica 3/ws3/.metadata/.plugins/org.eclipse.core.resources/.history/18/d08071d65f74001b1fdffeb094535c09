package uo.mp.s2.dome.service.medialibrary;

import static org.junit.Assert.assertEquals;

import org.junit.Before;
import org.junit.Test;

import uo.mp.s3.dome.model.Cd;
import uo.mp.s3.dome.model.Dvd;
import uo.mp.s3.dome.model.Item;
import uo.mp.s3.dome.model.VideoGame;
import uo.mp.s3.dome.model.VideoGame.Platform;
import uo.mp.s3.dome.service.MediaLibrary;

public class AddTest {
	/**
	 * Atributo cd
	 */
	private Item cd;
	/**
	 * Atributo dvd
	 */
	private Item dvd;
	/**
	 * Atributo game
	 */
	private Item game;
	
	/**
	 * Atributo librería
	 */
	private MediaLibrary lib;
	/**
	 * 
	 */
	@Before
	public void SetUp() {
		lib = new MediaLibrary();
		cd= new Cd("TIM","Avicii",12,38);
		dvd= new Dvd("Inception","Christopher Nolan", 162);
		game = new VideoGame("Batman: Arkham Knight","Sefton Hill",1, Platform.XBOX);
	}
	/**
	 * Pruebas del método Add de la clase MediaLibrary: 
	 * Pruebas de funcionalidad:
	 * 1- Añade un CD  -> Se añade
	 * 2- Añade un DVD  -> Se añade
	 * 3- Añade un VideoGame -> Se añade
	 * 4- Añade un CD y un DVD -> Se añaden
	 * 5- Añade un DVD y un VideoGame -> Se añaden
	 * 6- Añade un CD, un DVD y un VideoGame -> Se añaden
	 * 
	 * Pruebas de robustez:
	 * 7- Añade null -> Se lanza la excepción
	 */

//Pruebas de funcionalidad:
	/**
	 * 
	 */
	@Test
	public void testAddCD() {
		lib.add(cd);
		assertEquals(1,lib.getItems().size());
	}
	
	/**
	 * 
	 */
	@Test
	public void testAddDVD() {
		lib.add(dvd);
		assertEquals(1,lib.getItems().size());
	}
	
	/**
	 * 
	 */
	@Test
	public void testAddVideoGame() {
		lib.add(game);
		assertEquals(1,lib.getItems().size());
	}
	
	/**
	 * 
	 */
	@Test
	public void testAddCDDAndDVD() {
		lib.add(cd);
		lib.add(dvd);		
		assertEquals(2,lib.getItems().size());
	}
	
	/**
	 * 
	 */
	@Test
	public void testAddDVDAndideoGame() {
		lib.add(dvd);
		lib.add(game);
		assertEquals(2,lib.getItems().size());
	}
	
	/**
	 * 
	 */
	@Test
	public void testAddAll() {
		lib.add(cd);
		lib.add(dvd);
		lib.add(game);
		assertEquals(3,lib.getItems().size());
	}
	
	/**
	 * 
	 */
	@Test
	(expected = IllegalArgumentException.class)
	public void testAddNull() {
		lib.add(null);		
	}
}
