package uo.mp.s1.game.model.game2048;

import static org.junit.Assert.*;

import org.junit.Test;

import uo.mp.s2.game.model.Game2048;

/**
 * <p>
 * Título: Clase Game2048WithIntParamTest 
 * <p>
 *  
 * @author Omar Teixeira González
 * @version 11/02/2021
 */

public class Game2048WithIntParamTest {
	
	/**
	 *  Pruebas para el constructor con parámetros de la clase Game2048:
	 *  Positivos:
	 *  1- La dimensión está dentro de los limites -> Crea el tablero
	 *  2- La dimensión está en el límite inferior -> Crea el tablero
	 *  3- La dimensión está en el límite superior -> Crea el tablero
	 *  
	 *  Negativos (Pruebas de robustez):
	 *  4- La dimensión está por debajo del limite inverior -> Lanza la excepción
	 *  5- La dimensión está por encima del límite superior -> Lanza la excepción
	 */
	
	//Positivos:
	
	/**
	 *  1- La dimensión está dentro de los limites -> Crea el tablero
	 */
	@Test
	public void testConstructorWithDimensionParamInLimits() {
		Game2048 game = new Game2048(5);
		int[][] expected = {{0,0,0,0,0},{0,0,0,0,0},{0,0,0,0,0},{0,0,0,0,0},{0,0,0,0,0}};
		assertArrayEquals(expected,game.getBoard());
	}
	
	/**
	 *  2- La dimensión está en el límite inferior -> Crea el tablero
	 */
	@Test
	public void testConstructorWithDimensionParamInLowerLimit() {
		Game2048 game = new Game2048(3);
		int[][] expected = {{0,0,0},{0,0,0},{0,0,0}};
		assertArrayEquals(expected,game.getBoard());
	}
	
	/**
	 * 3- La dimensión está en el límite superior -> Crea el tablero
	 */
	@Test
	public void testConstructorWithDimensionParamInUpperLimit() {
		Game2048 game = new Game2048(10);
		int[][] expected = {{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},
				{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},
				{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0},{0,0,0,0,0,0,0,0,0,0}};
		assertArrayEquals(expected,game.getBoard());	
	}
	
	//Negativos:
	
	/*
	 * 4- La dimensión está por debajo del limite inverior -> Lanza la excepción
	 */
	@Test
	public void testConstructorWithDimensionParamUnderLowerLimit() {
		try{
            new Game2048(2);
            fail("Esperaba excepción");
        }catch (RuntimeException msg){
            assertEquals("La dimension no cumple los requisitos", msg.getMessage());
        }
	}
	
	/*
	 * 5- La dimensión está por encima del límite superior -> Lanza la excepción
	 */
	@Test
	public void testConstructorWithDimensionParamOverUpperLimit() {
		try{
            new Game2048(12);
            fail("Esperaba excepción");
        }catch (RuntimeException msg){
            assertEquals("La dimension no cumple los requisitos", msg.getMessage());
        }
	}
}
